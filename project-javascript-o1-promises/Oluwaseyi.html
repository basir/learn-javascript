<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Washing Dishes</title>
</head>
<body>
    <script>
        /* Create a function and implement its logic after 1sec. */
        const numDishes = Math.floor(Math.random()*10);
        const wash = (resolve, reject) => {
            if(numDishes <= 7 && numDishes > 0){
                console.log('Wash: Pass');
                resolve(numDishes)
                } else {
                    reject('Wash: Fail');
                }
            }
        //setTimeout(wash, 1000);
        /* Create a new Promise with 'wash' parameter */
        const newPromise = new Promise(wash);
        /* Use .then() to get the number of dishes. */
        newPromise.then( resolveValue => {
            console.log('Number of Dishes: ' + resolveValue);
            const dry = () => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if(resolveValue < 3 && numDishes > 0){
                            resolve(resolveValue)
                            console.log('Dry: Pass');
                            } else {
                                console.log('Dry: Fail');
                                reject('too many dishes in the dryer')
                                }
                             }, 2000);
                         })
                     }
            dry().then(numDishes => {
                console.log("Done " + numDishes + " Dishes.");
                    },returnedValue => {console.log('Sorry, ' + returnedValue)});
            }, rejectValue => {console.log(rejectValue)}
            );
    </script>
</body>
</html>